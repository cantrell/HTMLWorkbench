<!DOCTYPE html>

<html>


<head>

<script type="text/javascript">

    // San Francisco
    // 39.043351, -77.38576

    function init()
    {
        var myGeo = {
            getCurrentPosition:function(successFunction, errorFunction) {
                successFunction.call({foo:'bar'});
            }
        }

        var geo = window.navigator.geolocation;
//        geo.getCurrentPosition = function(successFunction, errorFunction) {
//                successFunction.apply(null, [{foo:'bar'}]);
//            };
        geo.getCurrentPosition(onCurrentPosition, onCurrentPositionError);
    }

    function onCurrentPosition(position)
    {
        console.log(position);
    }

    function onCurrentPositionError(error)
    {
        console.log(error);
    }

    window.onload = init;

</script>

</head>
</body>